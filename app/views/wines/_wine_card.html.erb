<div class="container py-3">
  <div class="row card-display pt-3">
    <% @wines.each_with_index do |wine, index| %>
      <% if index < 4 %>
        <div class="col-lg-3 col-md-5 pb-4">
          <div class="card card-wine border rounded position-relative">
            <% if wine.wine_photo.present? %>
              <div class="card-bg-image pt-2 mx-auto"><%= cl_image_tag wine.wine_photo.key, width: 150, height: 150%></div>
              <% else %>
                <div class="card-bg-image pt-2 mx-auto" style="background-image: linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.2)), url('<%= image_path "wine.png" %>'); max-height: 150px; max-width: 260px;;"></div>
            <% end %>
            <div class="card-body d-flex flex-column align-items-center gap-3">
              <div>
                <h4 class="card-title"> <%= truncate(wine.name, length: 25, omission: '...') %></h4>
                <div class="ligne">
                </div>
                <div class="card-text pt-2 pb-2">
                  <p class="card-text"><%= truncate(wine.description, length: 130, omission: '...') %></p>
                </div>
                <a class="btn btn-primary btn-wine col-md-6 " href="#">En savoir plus</a>
                <%# <p ><strong> Appellation :</strong> <%= wine.appellation %></p>
                <a class="btn btn-primary btn-wine col-md-6" href="#">Ajouter à mes préférences</a>
                <%#= link_to 'Détail wine', wine_path(@wine), class: 'btn btn-primary' %>
              </div>
            </div>
            </div>
          </div>
      <% end %>
    <% end %>
  </div>
</div>
